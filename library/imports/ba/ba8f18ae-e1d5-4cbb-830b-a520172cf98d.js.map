{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Scripts\\Home\\Stage/assets\\Scripts\\Home\\Stage\\StageController.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Scripts\\Home\\Stage","sourcesContent":["﻿import global from \"../../Common/Global\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class StageController extends cc.Component {\r\n\r\n    private CardObj: any = {\r\n        currentStatus: {\r\n            Me: null,\r\n            Pre: null,\r\n            Next: null,\r\n            PrePre: null,\r\n            NextNext: null,\r\n        },\r\n        cards: {\r\n            Me: null,\r\n            Pre: null,\r\n            Next: null,\r\n            PrePre: null,\r\n            NextNext: null,\r\n        },\r\n        IsDizhu: {\r\n            Me: null,\r\n            Pre: null,\r\n            Next: null,\r\n            PrePre: null,\r\n            NextNext: null,\r\n        },\r\n        myCardType: null\r\n    };\r\n\r\n\r\n\r\n    private cardInfo: any = null;\r\n\r\n    private PokerSetScript: any = {\r\n        Me: null,\r\n        Pre: null,\r\n        Next: null,\r\n        PrePre: null,\r\n        NextNext: null,\r\n    };\r\n    private TimerScript: any = null;\r\n    private PlayerInfoScript: any = null;\r\n    private dealerBet: any = { // �O���L�̪��m�����v\r\n        Me: null,\r\n        Pre: null,\r\n        Next: null,\r\n        PrePre: null,\r\n        NextNext: null,\r\n    };\r\n    private personalBet: any = { // �O���L�̪���`����\r\n        Me: null,\r\n        Pre: null,\r\n        Next: null,\r\n        PrePre: null,\r\n        NextNext: null,\r\n    };\r\n\r\n    @property(cc.Node)\r\n    playerInfo: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    currentStatus: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    PokerSets: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    CardChoose: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    Timer: cc.Node = null;\r\n\r\n    init() {\r\n        this.CardObj = {\r\n            // �ثe���A\r\n            currentStatus: {\r\n                Me: cc.find(\"Me\", this.currentStatus),\r\n                Pre: cc.find(\"Pre\", this.currentStatus),\r\n                Next: cc.find(\"Next\", this.currentStatus),\r\n                PrePre: cc.find(\"PrePre\", this.currentStatus),\r\n                NextNext: cc.find(\"NextNext\", this.currentStatus),\r\n            },\r\n            // �U�a�d�P\r\n            cards: {\r\n                Me: cc.find(\"MePokerSet\", this.PokerSets),\r\n                Pre: cc.find(\"PrePokerSet\", this.PokerSets),\r\n                Next: cc.find(\"NextPokerSet\", this.PokerSets),\r\n                PrePre: cc.find(\"PrePrePokerSet\", this.PokerSets),\r\n                NextNext: cc.find(\"NextNextPokerSet\", this.PokerSets),\r\n            },\r\n            // �O���O�a�D\r\n            IsDizhu: {\r\n                Me: cc.find(\"Me/dizhuIcon\", this.playerInfo),\r\n                Pre: cc.find(\"Pre/dizhuIcon\", this.playerInfo),\r\n                Next: cc.find(\"Next/dizhuIcon\", this.playerInfo),\r\n                PrePre: cc.find(\"PrePre/dizhuIcon\", this.playerInfo),\r\n                NextNext: cc.find(\"NextNext/dizhuIcon\", this.playerInfo),\r\n            },\r\n        };\r\n\r\n        cc.log(\"init cardobj\");\r\n\r\n    }\r\n    onEnable() {\r\n    \r\n    }\r\n    onLoad() { // ��l�Ƭ����ާ@\r\n        let self = this;\r\n\r\n        this.init(); // ���ܼƧ��b�������u�ꪺ��m\r\n\r\n        this.PokerSetScript.Me = this.CardObj.cards.Me.getComponent(\"PokerSet\");\r\n        this.PokerSetScript.Pre = this.CardObj.cards.Pre.getComponent(\"PokerSet\");\r\n        this.PokerSetScript.PrePre = this.CardObj.cards.PrePre.getComponent(\"PokerSet\");\r\n        this.PokerSetScript.Next = this.CardObj.cards.Next.getComponent(\"PokerSet\");\r\n        this.PokerSetScript.NextNext = this.CardObj.cards.NextNext.getComponent(\"PokerSet\");\r\n        this.TimerScript = this.Timer.getComponent(\"TimeController\");\r\n        this.PlayerInfoScript = this.playerInfo.getComponent(\"PlayerInfoViewController\");\r\n\r\n        global.Instance.EventListener.on(\"stageChange\", function (event, stage, timeout) {\r\n            self.TimerScript.activeButton(stage);\r\n\r\n            switch (stage) {\r\n                case 0: // stage 0 : waiting stage\r\n                case 1: // stage 1 : gameStart stage\r\n                    self.hideCurrentStatus(); // hide king and bet image\r\n                    self.hideCardSets(); // hide card set\r\n                    self.TimerScript.hideClock(); // hide middle count down clock\r\n                    break;\r\n                case 2: // stage 2 : kings stage\r\n                case 3: // stage 3 : bet stage\r\n                case 4: // stage 4 : choose card stage\r\n                    self.hideCurrentStatus();\r\n                    self.hideCardSets();\r\n                    self.TimerScript.setCountDownSecond(timeout);\r\n                    break;\r\n                case 5: // stage 5 : show cards stage\r\n                    self.hideCurrentStatus();\r\n                    self.CardObj.cards.Me.active = true;\r\n                    self.TimerScript.hideClock();\r\n                    break;\r\n                case 6: // stage 6 : money flow stage\r\n                case 7: // stage 7 : game continue stage\r\n                    self.hideCurrentStatus();\r\n                    self.hideCardSets();\r\n                    self.TimerScript.hideClock();\r\n                    break;\r\n            }\r\n        });\r\n\r\n        global.Instance.EventListener.on(\"roomReady\", function (event, Info) {\r\n            // stage 0 : waiting stage (show waiting tips and show player)\r\n            self.TimerScript.activeButton(0);\r\n            self.PlayerInfoScript.UpdateRoom(Info);\r\n            cc.log(\"activeButton : 0\");\r\n        });\r\n\r\n        global.Instance.EventListener.on(\"kingsRate\", function (event, Info) {\r\n            // stage 2 (kings stage)\r\n            self.UpdateDealer(Info);\r\n        });\r\n\r\n        global.Instance.EventListener.on(\"playersRate\", function (event, Info) {\r\n            // stage 3 (bet stage)\r\n            cc.log(\"playerBet\");\r\n            self.UpdateBet(Info);\r\n        });\r\n        global.Instance.EventListener.on(\"myCard\", function (event, Info) {\r\n            // stage 4 (choose card stage)\r\n            // record my card type for the hasniu/noniu button identification\r\n            cc.log(\"Info.cardType.Me = \", Info.cardType.Me);\r\n            if (Info.cardType.Me > 0) self.CardObj.myCardType = true;\r\n            else self.CardObj.myCardType = false;\r\n            self.UpdateMyCard(Info);\r\n\r\n        });\r\n        global.Instance.EventListener.on(\"eachPlayerCard\", function (event, Info) {\r\n            // stage 5 (show cards stage)\r\n            //�N�P��s\r\n            self.UpdateNewNewCards(Info);\r\n\r\n        });\r\n        global.Instance.EventListener.on(\"pokerAnimation\", function (event, Info) {\r\n            // stage 1(gameStart stage) and stage 5(show cards stage)\r\n            cc.log(\"get pokerAnimation : \", Info.Me);\r\n            self.playPokerAnimation(Info);\r\n        });\r\n\r\n    }\r\n\r\n    UpdateDealer(Info){\r\n        this.cardInfo = Info;\r\n        var self = this;\r\n        var CO = this.CardObj;\r\n\r\n        if (Info.Me.playerRate !== -1) {\r\n            self.CardObj.currentStatus.Me.getComponent(\"PokerControl\").showstatus(\"grab_0\" + (Info.Me.playerRate).toString());\r\n            this.CardObj.currentStatus.Me.active = true;\r\n        }\r\n        if (Info.PrePre.playerRate !== -1) {\r\n            self.CardObj.currentStatus.PrePre.getComponent(\"PokerControl\").showstatus(\"grab_0\" + (Info.PrePre.playerRate).toString());\r\n            this.CardObj.currentStatus.PrePre.active = true;\r\n        }\r\n        if (Info.Pre.playerRate !== -1) {\r\n            self.CardObj.currentStatus.Pre.getComponent(\"PokerControl\").showstatus(\"grab_0\" + (Info.Pre.playerRate).toString());\r\n            this.CardObj.currentStatus.Pre.active = true;\r\n        }\r\n        if (Info.Next.playerRate !== -1) {\r\n            self.CardObj.currentStatus.Next.getComponent(\"PokerControl\").showstatus(\"grab_0\" + (Info.Next.playerRate).toString());\r\n            this.CardObj.currentStatus.Next.active = true;\r\n        }\r\n        if (Info.NextNext.playerRate !== -1) {\r\n            self.CardObj.currentStatus.NextNext.getComponent(\"PokerControl\").showstatus(\"grab_0\" + (Info.NextNext.playerRate).toString());\r\n            this.CardObj.currentStatus.NextNext.active = true;\r\n        }\r\n\r\n        self.dealerBet.Me = (Info.Me.playerRate);\r\n        self.dealerBet.PrePre = (Info.PrePre.playerRate);\r\n        self.dealerBet.Pre = (Info.Pre.playerRate);\r\n        self.dealerBet.Next = (Info.Next.playerRate);\r\n        self.dealerBet.NextNext = (Info.NextNext.playerRate);\r\n\r\n        if (Info.Me.king == true) {\r\n            this.CardObj.IsDizhu.Me.active = true;\r\n            this.clearTimer();\r\n        }\r\n        else if (Info.Pre.king == true) {\r\n            this.CardObj.IsDizhu.Pre.active = true;\r\n            this.clearTimer();\r\n        }\r\n        else if (Info.PrePre.king == true) {\r\n            this.CardObj.IsDizhu.PrePre.active = true;\r\n            this.clearTimer();\r\n        }\r\n        else if (Info.Next.king == true) {\r\n            this.CardObj.IsDizhu.Next.active = true;\r\n            this.clearTimer();\r\n        }\r\n        else if (Info.NextNext.king == true) {\r\n            this.CardObj.IsDizhu.NextNext.active = true;\r\n            this.clearTimer();\r\n        }\r\n    }\r\n\r\n    UpdateBet(Info){\r\n        this.cardInfo = Info;\r\n        var self = this;\r\n        let unclockTime = 0;\r\n        if (Info.Me.playerRate !== -1) {\r\n            self.CardObj.currentStatus.Me.getComponent(\"PokerControl\").showstatus(\"BetTest_\" + (Info.Me.playerRate).toString());\r\n            this.CardObj.currentStatus.Me.active = true;\r\n            unclockTime++;\r\n        }\r\n        if (Info.PrePre.playerRate !== -1) {\r\n            self.CardObj.currentStatus.PrePre.getComponent(\"PokerControl\").showstatus(\"BetTest_\" + (Info.PrePre.playerRate).toString());\r\n            this.CardObj.currentStatus.PrePre.active = true;\r\n            unclockTime++;\r\n        }\r\n        if (Info.Pre.playerRate !== -1) {\r\n            self.CardObj.currentStatus.Pre.getComponent(\"PokerControl\").showstatus(\"BetTest_\" + (Info.Pre.playerRate).toString());\r\n            this.CardObj.currentStatus.Pre.active = true;\r\n            unclockTime++;\r\n        }\r\n        if (Info.Next.playerRate !== -1) {\r\n            self.CardObj.currentStatus.Next.getComponent(\"PokerControl\").showstatus(\"BetTest_\" + (Info.Next.playerRate).toString());\r\n            this.CardObj.currentStatus.Next.active = true;\r\n            unclockTime++;\r\n        }\r\n        if (Info.NextNext.playerRate !== -1) {\r\n            self.CardObj.currentStatus.NextNext.getComponent(\"PokerControl\").showstatus(\"BetTest_\" + (Info.NextNext.playerRate).toString());\r\n            this.CardObj.currentStatus.NextNext.active = true;\r\n            unclockTime++;\r\n        }\r\n\r\n        if (unclockTime === 5) {\r\n            this.TimerScript.unscheduleTimer();\r\n            this.TimerScript.activeButton(-1);\r\n        }\r\n    }\r\n\r\n    UpdateMyCard(Info){\r\n        var self = this;\r\n\r\n        self.PokerSetScript.Me.showRate((Info.currentStatus.Me).toString());\r\n        self.PokerSetScript.Pre.showRate((Info.currentStatus.Pre).toString());\r\n        self.PokerSetScript.PrePre.showRate((Info.currentStatus.PrePre).toString());\r\n        self.PokerSetScript.Next.showRate((Info.currentStatus.Next).toString());\r\n        self.PokerSetScript.NextNext.showRate((Info.currentStatus.NextNext).toString());\r\n        self.CardObj.cards.Pre.active = true;\r\n        self.CardObj.cards.Next.active = true;\r\n        self.CardObj.cards.PrePre.active = true;\r\n        self.CardObj.cards.NextNext.active = true;\r\n        // self.PokerSets.active = true;\r\n\r\n        ////////////can't get show card\r\n        self.CardChoose.getComponent(\"ShowCard\").showCard(Info.cards); // �i�ܥi�H�諸���i�d\r\n\r\n    }\r\n\r\n\r\n    UpdateNewNewCards(Info){\r\n        var self = this;// �O�o�[�o��\r\n        cc.log(\"enter update newnew card\");\r\n\r\n        //self.CardObj.cards.Me.active = true;\r\n        //self.PokerSets.active = true;\r\n\r\n        if (Info.isKing.Me == true) {\r\n            self.PokerSetScript.Me.showDeal((Info.currentStatus.Me).toString());\r\n        }\r\n        else if (Info.isKing.Pre == true) {\r\n            self.PokerSetScript.Pre.showDeal((Info.currentStatus.Pre).toString());\r\n        }\r\n        else if (Info.isKing.PrePre == true) {\r\n            self.PokerSetScript.PrePre.showDeal((Info.currentStatus.PrePre).toString());\r\n        }\r\n        else if (Info.isKing.Next == true) {\r\n            self.PokerSetScript.Next.showDeal((Info.currentStatus.Next).toString());\r\n        }\r\n        else if (Info.isKing.NextNext == true) {\r\n            self.PokerSetScript.NextNext.showDeal((Info.currentStatus.NextNext).toString());\r\n        }\r\n\r\n\r\n        if (Info.displayCard.Me == true) {\r\n            self.PokerSetScript.Me.showCards((Info.cards.Me));\r\n            self.PokerSetScript.Me.showCardType((Info.cardType.Me).toString());\r\n            self.CardObj.cards.Me.active = true;\r\n            //global.EventListener.fire(\"Animation\", Info.animation.Me);\r\n        }\r\n        if (Info.displayCard.Pre == true) {\r\n            self.PokerSetScript.Pre.showCards((Info.cards.Pre));\r\n            self.PokerSetScript.Pre.showCardType((Info.cardType.Pre).toString());\r\n            self.CardObj.cards.Pre.active = true;\r\n        }\r\n        if (Info.displayCard.Next == true) {\r\n            self.PokerSetScript.Next.showCards((Info.cards.Next));\r\n            self.PokerSetScript.Next.showCardType((Info.cardType.Next).toString());\r\n            self.CardObj.cards.Next.active = true;\r\n        }\r\n        if (Info.displayCard.PrePre == true) {\r\n            self.PokerSetScript.PrePre.showCards((Info.cards.PrePre));\r\n            self.PokerSetScript.PrePre.showCardType((Info.cardType.PrePre).toString());\r\n            self.CardObj.cards.PrePre.active = true;\r\n        }\r\n        if (Info.displayCard.NextNext == true) {\r\n            self.PokerSetScript.NextNext.showCards((Info.cards.NextNext));\r\n            self.PokerSetScript.NextNext.showCardType((Info.cardType.NextNext).toString());\r\n            self.CardObj.cards.NextNext.active = true;\r\n        }\r\n    }\r\n\r\n    playPokerAnimation(Info){\r\n        global.Instance.EventListener.notify(\"Animation\", Info.Me);\r\n    }\r\n\r\n    clearTimer(){\r\n        this.TimerScript.unscheduleTimer();\r\n        this.TimerScript.activeButton(-1);\r\n    }\r\n\r\n    hideCurrentStatus() {\r\n        let self = this;\r\n        self.CardObj.currentStatus.Me.active = false;\r\n        self.CardObj.currentStatus.Pre.active = false;\r\n        self.CardObj.currentStatus.Next.active = false;\r\n        self.CardObj.currentStatus.PrePre.active = false;\r\n        self.CardObj.currentStatus.NextNext.active = false;\r\n    }\r\n\r\n    hideCardSets() {\r\n        let self = this;\r\n        self.CardObj.cards.Me.active = false;\r\n        self.CardObj.cards.Pre.active = false;\r\n        self.CardObj.cards.Next.active = false;\r\n        self.CardObj.cards.PrePre.active = false;\r\n        self.CardObj.cards.NextNext.active = false;\r\n    }\r\n\r\n    // king rate\r\n    kingRateClick(event,customEventData){\r\n        //global.Instance.network.socket().emit(\"kingRate\", global.Instance.uid, customEventData);\r\n        global.Instance.network.rob_bet(customEventData);\r\n        this.clearTimer();\r\n    }\r\n\r\n    // bet rate\r\n    betRateClick(event,customEventData){\r\n        global.Instance.network.socket().emit(\"playerRate\", global.Instance.uid, customEventData);\r\n        this.clearTimer();\r\n        cc.log(customEventData + \"bet\");\r\n    }\r\n\r\n    //no niu button\r\n    noBuffButtonClick(){\r\n        var self = this;\r\n        if (!self.CardChoose.getComponent(\"ShowCard\").isThreeSelected()) {\r\n            self.CardChoose.getComponent(\"ShowCard\").cardError.active = true;\r\n            return;\r\n        }\r\n\r\n        self.CardChoose.getComponent(\"ShowCard\").cardError.active = false;\r\n        global.Instance.network.socket().emit(\"getPlayersCard\", global.Instance.uid);\r\n        this.clearTimer();\r\n        self.CardObj.cards.Me.active = true;\r\n    }\r\n\r\n    //have niu nutton\r\n    haveBuffButtonClick(){\r\n        var self = this;\r\n        /*if (!self.CardChoose.getComponent(\"ShowCard\").isDoubleOfTen() || !self.CardChoose.getComponent(\"ShowCard\").isThreeSelected()) {\r\n            self.CardChoose.getComponent(\"ShowCard\").cardError.active = true;\r\n            return;\r\n        }*/\r\n        // if it isn't special cardtype or user doesn't choose three card\r\n        if (!self.CardObj.myCardType || !self.CardChoose.getComponent(\"ShowCard\").isThreeSelected()) {\r\n            self.CardChoose.getComponent(\"ShowCard\").cardError.active = true;\r\n            return;\r\n        }\r\n\r\n        // else \r\n        self.CardChoose.getComponent(\"ShowCard\").cardError.active = false;\r\n        global.Instance.network.socket().emit(\"getPlayersCard\", global.Instance.uid);\r\n        this.clearTimer();\r\n        self.CardObj.cards.Me.active = true;\r\n    }\r\n\r\n\r\n}\r\n"]}