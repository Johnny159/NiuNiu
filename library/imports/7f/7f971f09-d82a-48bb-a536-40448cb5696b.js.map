{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Scripts\\Home\\Player/assets\\Scripts\\Home\\Player\\PlayerInfoViewController.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Scripts\\Home\\Player","sourcesContent":["ï»¿//import PlayerInfo from \"../PlayerInfo/Model/PlayerInfo\";\r\nimport global from \"../../Common/Global\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class PlayerInfoViewController extends cc.Component {\r\n\r\n    //ctor\r\n    //=====================================================================\r\n    private playerInfo: any = null; \r\n    private playerScript: any = {\r\n        PreRival: null,\r\n        Me: null,\r\n        NextRival: null,\r\n        PrePreRival: null,\r\n        NextNextRival: null\r\n    };\r\n    private defaultImgs: any = [\"newnew/common/playerPic1\", \"newnew/common/playerPic2\", \"newnew/common/playerPic3\", \"newnew/common/playerPic4\", \"newnew/common/playerPic5\", \"newnew/common/playerPic6\"];\r\n    private autoPlaying: cc.Node;\r\n    //=====================================================================\r\n\r\n    //property\r\n    //================================================\r\n    @property(cc.Node)\r\n    Me: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    PreRival: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    NextRival: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    PrePreRival: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    NextNextRival: cc.Node = null;\r\n\r\n    // IF WANT TO CHANGE TO ARRAY, HERE IS THE SOLUTION\r\n    /*@property(cc.Node)\r\n    fiveRival: cc.Node[] = [];*/\r\n\r\n    @property(cc.Node)\r\n    Autoplaying: cc.Node = null;\r\n    //=================================================\r\n\r\n   \r\n\r\n    autoPlay() {\r\n        global.Instance.EventListener.notify(\"AIswitch\");\r\n    }\r\n\r\n    onLoad() {\r\n        let self = this;\r\n\r\n        this.playerScript.PreRival = this.PreRival.getComponent(\"Player\");\r\n        this.playerScript.Me = this.Me.getComponent(\"Player\");\r\n        this.playerScript.NextRival = this.NextRival.getComponent(\"Player\");\r\n        this.playerScript.PrePreRival = this.PrePreRival.getComponent(\"Player\");\r\n        this.playerScript.NextNextRival = this.NextNextRival.getComponent(\"Player\");\r\n\r\n        cc.loader.loadResDir(\"newnew/common\", function (err, assets) { });\r\n\r\n        /*global.Instance.EventListener.on(\"roomReady\", function (event, Info) {\r\n            //cc.log(\"roomReady in PlayerInfoViewCtrlr\");\r\n            //cc.log(\"piv get \", Info);\r\n            self.UpdateRoom(Info);\r\n            //cc.log(\"RoomReady in Player Done\");\r\n        });*/\r\n    }\r\n\r\n\r\n\r\n\r\n    showKingAnime(kingUID) {\r\n        this.Me.getChildByName(\"dizhuIcon\").active = true;\r\n    }\r\n\r\n    UpdateRoom(playerInfo) {\r\n        cc.log(\"updateRoom\");\r\n        let self = this;\r\n\r\n        //cc.log(playerInfo);\r\n        \r\n        this.playerScript.Me.setName(playerInfo.Me.name);\r\n        this.playerScript.PreRival.setName(playerInfo.Pre.name);\r\n        this.playerScript.NextRival.setName(playerInfo.Next.name);\r\n        this.playerScript.PrePreRival.setName(playerInfo.PrePre.name);\r\n        this.playerScript.NextNextRival.setName(playerInfo.NextNext.name);\r\n\r\n\r\n        this.playerScript.Me.setCoin(playerInfo.Me.coin);\r\n        this.playerScript.PreRival.setCoin(playerInfo.Pre.coin);\r\n        this.playerScript.NextRival.setCoin(playerInfo.Next.coin);\r\n        this.playerScript.PrePreRival.setCoin(playerInfo.PrePre.coin);\r\n        this.playerScript.NextNextRival.setCoin(playerInfo.NextNext.coin);\r\n\r\n        if (playerInfo.Me.img != null)\r\n            cc.loader.loadRes(this.defaultImgs[playerInfo.Me.img], cc.SpriteFrame, function (err, spriteFrame) {\r\n\r\n                self.playerScript.Me.setImg(spriteFrame);\r\n            });\r\n\r\n\r\n        if (playerInfo.Pre.img != null)\r\n            cc.loader.loadRes(this.defaultImgs[playerInfo.Pre.img], cc.SpriteFrame, function (err, spriteFrame) {\r\n                self.playerScript.PreRival.setImg(spriteFrame);\r\n            });\r\n\r\n\r\n        if (playerInfo.Next.img != null)\r\n            cc.loader.loadRes(this.defaultImgs[playerInfo.Next.img], cc.SpriteFrame, function (err, spriteFrame) {\r\n                self.playerScript.NextRival.setImg(spriteFrame);\r\n            });\r\n\r\n        if (playerInfo.PrePre.img != null)\r\n            cc.loader.loadRes(this.defaultImgs[playerInfo.PrePre.img], cc.SpriteFrame, function (err, spriteFrame) {\r\n                self.playerScript.PrePreRival.setImg(spriteFrame);\r\n            });\r\n\r\n\r\n        if (playerInfo.NextNext.img != null)\r\n            cc.loader.loadRes(this.defaultImgs[playerInfo.NextNext.img], cc.SpriteFrame, function (err, spriteFrame) {\r\n                self.playerScript.NextNextRival.setImg(spriteFrame);\r\n            });\r\n\r\n\r\n    }\r\n}\r\n"]}