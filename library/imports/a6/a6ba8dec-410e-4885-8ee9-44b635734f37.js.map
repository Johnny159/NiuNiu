{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Scripts\\Animations/assets\\Scripts\\Animations\\moneyBgAnime.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\assets\\Scripts\\Animations","sourcesContent":["const {ccclass, property} = cc._decorator;\r\n@ccclass\r\nexport default class moneyBgAnime extends cc.Component {\r\n\r\n\r\n    private frames:[cc.SpriteFrame] = [new cc.SpriteFrame];\r\n    private speed: number = 1;  //anime speed\r\n\r\n    onLoad(){\r\n        let self = this;\r\n        //add component\r\n        self.node.addComponent(cc.Sprite);\r\n        self.node.addComponent(cc.Animation);\r\n        //set spriteframe\r\n        for(let i: number = 0;i < 16;i++){\r\n            self.frames.pop();\r\n            let temp: string = String(i);\r\n            if(i < 10) temp = \"0\" + i;\r\n            let url = \"Animations/moneyflow/effect_0\" + temp;\r\n            cc.loader.loadRes(url, function (err, tex) {\r\n                self.frames.push(new cc.SpriteFrame(tex));\r\n            })\r\n        }\r\n    }\r\n\r\n    playBgAnime ( seatX: number, seatY: number ) {\r\n        let self = this;\r\n        let animation: cc.Animation = self.node.getComponent(cc.Animation);\r\n        if( !self.node.getComponent(cc.Animation) ) cc.log(\"get anime fail\");\r\n        //set clip\r\n        let clip: cc.AnimationClip = cc.AnimationClip.createWithSpriteFrames(self.frames, 16);\r\n        clip.name = \"anim_run\";\r\n        clip.wrapMode = cc.WrapMode.Loop;\r\n        //set position\r\n        self.node.runAction(cc.place(seatX-14 , seatY -5));\r\n        //set show time\r\n        let action: cc.Action = cc.sequence( cc.delayTime(0.5) , cc.show(),cc.delayTime(0.4),cc.hide());\r\n        self.node.runAction(action);\r\n        //play anime\r\n        //if(!animation) cc.log(\"moneyBG anime component null, self = \" + self + \", self.node = \" + self.node);\r\n        animation.addClip(clip);\r\n        let animeState: cc.AnimationState = animation.play('anim_run');\r\n        animeState.speed = self.speed;\r\n        animeState.wrapMode = cc.WrapMode.Loop;\r\n        animeState.repeatCount = 5;\r\n    }\r\n\r\n    moneyShine(toSeat){\r\n        let self = this;\r\n        toSeat = parseInt(toSeat);\r\n        let pos = [{//prepre\r\n            x : -419,\r\n            y: 331\r\n        },\r\n        {//pre\r\n            x : -811,\r\n            y: 53\r\n        },\r\n        {//me\r\n            x : -515,\r\n            y: -328\r\n        },\r\n        {//next\r\n            x : 811,\r\n            y: 51\r\n        },\r\n        {//nextnext\r\n            x : 417,\r\n            y: 336\r\n        }]\r\n        //cc.log(\"to \" + pos[toSeat].x + \",\" + pos[toSeat].y);\r\n        \r\n        //cc.log(\"play BG Anime : \" + toSeat);\r\n        self.playBgAnime( pos[toSeat].x,pos[toSeat].y );\r\n    }\r\n\r\n\r\n}\r\n\r\n"]}